import{a as $,f as V,b as w,d as T,g as j,e as A}from"./sidebar.esm-PfuDIMSq.js";import{u as N,t as L,p as C,d as k,o as a,c as i,j as l,h as p,f as e,l as f,b as d,F as v,k as z,a as x,g as B,e as E}from"./index-NB82Ecj1.js";const F={class:"flex align-items-center gap-2"},H={class:"font-bold"},I={class:"m-0",style:{"white-space":"pre-wrap"}},M={key:0,class:"flex justify-content-end"},D=["innerHTML"],G={__name:"AppCandidateOpinionsPanel",props:{candidateId:{type:Number},opinions:{type:Object,default:[]},collapsed:{type:Boolean,default:!0}},setup(g){const m=N(),c=g,{opinions:n,candidateId:_,collapsed:u}=L(c),t=C(()=>m.getCandidate(_.value)),o=C(()=>{if(t.value)return`${t.value.firstname} ${t.value.lastname}`}),r=k(!1),h=k(null),O=y=>{r.value=!0,h.value=y.content};return(y,b)=>(a(),i(v,null,[l(e(j),{collapsed:e(u),toggleable:"",class:"w-full my-2"},{header:p(()=>{var s;return[d("div",F,[l(e($),{image:(s=t.value)==null?void 0:s.photo,size:"large",shape:"rectangle"},null,8,["image"]),d("span",H,f(o.value),1),l(e(V),{value:e(n).length,severity:"success"},null,8,["value"])])]}),default:p(()=>[(a(!0),i(v,null,E(e(n),(s,S)=>(a(),i("p",I,[z(f(s.summary)+" ",1),s.content?(a(),i("div",M,[l(e(w),{text:"",label:"En savoir plus",onClick:R=>O(s)},null,8,["onClick"])])):x("",!0),S!=e(n).length-1?(a(),B(e(T),{key:1})):x("",!0)]))),256))]),_:1},8,["collapsed"]),l(e(A),{visible:r.value,"onUpdate:visible":b[0]||(b[0]=s=>r.value=s),header:"En savoir plus",class:"w-full md:w-20rem lg:w-30rem",position:"right"},{default:p(()=>[d("p",{style:{"white-space":"pre-wrap"},innerHTML:h.value},null,8,D)]),_:1},8,["visible"])],64))}},P={class:"p-button-label"},J={__name:"AppCandidatesSelector",emits:["scroll"],setup(g,{emit:m}){const c=N(),n=m,_=(u,t)=>{n("scroll",u),t&&t.target.blur()};return(u,t)=>(a(!0),i(v,null,E(e(c).currentElection.candidates,o=>(a(),B(e(w),{class:"mx-2",text:"",size:"small",severity:"primary",onClick:r=>_(o.id,r)},{default:p(()=>[l(e($),{image:o.photo,shape:"circle",class:"mr-1"},null,8,["image"]),d("span",P,f(e(c).getCandidateName(o.id)),1)]),_:2},1032,["onClick"]))),256))}};export{G as _,J as a};
