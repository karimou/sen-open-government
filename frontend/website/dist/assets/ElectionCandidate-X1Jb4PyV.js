import{t as z,o as a,c as v,f as s,l as m,a as f,p as M,d as u,u as O,q as P,s as T,w as B,n as C,b as o,v as E,k as F,g as r,F as V,e as H,h as U}from"./index-h4EnpgFa.js";import{b as d,c as q}from"./panel.esm-up7nN6RI.js";import{s as A,b as D}from"./bg-_nfMGeqk.js";import{a as G,_ as J}from"./AppIssuesSelector-ocMg9_BZ.js";import{_ as K}from"./_plugin-vue_export-helper-x3n3nnut.js";const Q={class:"flex justify-content-center"},W={__name:"AppSocialLinks",props:{website:{type:String},facebook:{type:String},twitter:{type:String},instagram:{type:String}},setup(w){const _=w,{website:b,facebook:n,twitter:t,instagram:c}=z(_);return(p,g)=>(a(),v("div",Q,[s(b)?(a(),m(s(d),{key:0,icon:"pi pi-link",text:""})):f("",!0),s(n)?(a(),m(s(d),{key:1,icon:"pi pi-facebook",text:""})):f("",!0),s(t)?(a(),m(s(d),{key:2,icon:"pi pi-twitter",text:""})):f("",!0),s(c)?(a(),m(s(d),{key:3,icon:"pi pi-instagram",text:""})):f("",!0)]))}},X={class:"candidate-name-zone justify-content-center"},Y={class:"text-4xl"},Z={class:"flex justify-content-center mb-6"},ee={style:{"z-index":"1",position:"relative"}},te={class:"grid"},se={class:"lg:col-offset-3 lg:col-6 md:col-offset-2 md:col-8 col-offset-1 col-10"},ie=["innerHTML"],oe={__name:"ElectionCandidate",setup(w){const _=M(),b=u(null),n=u(null),t=u(null),c=u(!1),p=O(),g=i=>{b.value=Number(i.electionId),n.value=Number(i.candidateId)};P(()=>{g(_.params)}),T((i,e)=>{g(i.params)}),B(n,()=>{t.value=p.getCandidate(n.value)});const j=C(()=>{if(!p.currentElection.opinions)return[];let i=p.currentElection.opinions.filter(e=>e.author_id==n.value);return Object.groupBy(i,e=>e.issue_id)}),y=C(()=>{if(t.value)return`${t.value.firstname} ${t.value.lastname}`});B(y,i=>{document.title=document.title+" - "+i});const k=u({}),L=i=>{var e;(e=k.value[i])==null||e.scrollIntoView({behavior:"smooth"})};return(i,e)=>{var x,h,I,$,S;return a(),v(V,null,[o("div",{class:"background-image pt-2 w-full",style:E({backgroundImage:`url(${s(D)})`})},[o("div",{class:"candidate-image",style:E({backgroundImage:`url(${(x=t.value)==null?void 0:x.photo})`})},null,4),o("div",X,[o("div",null,[o("span",Y,F(y.value),1)]),o("div",null,[r(s(d),{label:"Plus d'infos",text:"",severity:"primary",onClick:e[0]||(e[0]=l=>c.value=!0)})]),r(W,{website:(h=t.value)==null?void 0:h.website,facebook:(I=t.value)==null?void 0:I.facebook,instagram:($=t.value)==null?void 0:$.instagram,twitter:(S=t.value)==null?void 0:S.twitter},null,8,["website","facebook","instagram","twitter"])]),o("div",Z,[r(G,{onScroll:e[1]||(e[1]=l=>L(l))})]),o("div",ee,[o("div",te,[o("div",se,[(a(!0),v(V,null,H(j.value,(l,N)=>(a(),v("div",{ref_for:!0,ref:R=>k.value[N]=R},[r(J,{opinions:l,issueId:Number(N),collapsed:!1},null,8,["opinions","issueId"])],512))),256))])])]),r(s(A),{visible:c.value,"onUpdate:visible":e[2]||(e[2]=l=>c.value=l),header:"Plus d'infos",class:"w-full md:w-20rem lg:w-30rem"},{default:U(()=>[o("p",{style:{"white-space":"pre-wrap"},innerHTML:t.value.description},null,8,ie)]),_:1},8,["visible"])],4),r(s(q))],64)}}},ue=K(oe,[["__scopeId","data-v-5c5fcdc3"]]);export{ue as default};
