import{s as b,_ as B,b as C}from"./AppOpinion-l3_xWVKy.js";import{u as h,t as S,q as N,r as P,x as D,o as a,d,e as _,b as e,g,j as x,f,s as E,F as y,a as I,c as $,l as T}from"./index-KbBs47Ya.js";const j={class:"font-bold"},F={__name:"AppIssueOpinionsPanel",props:{issueId:{type:Number},opinions:{type:Object,default:[]},collapsed:{type:Boolean,default:!0}},setup(v){const o=h(),u=v,{opinions:l,issueId:n,collapsed:r}=S(u),c=N(()=>{var m;return(m=l.value)==null?void 0:m.map(t=>Number(t.num_proposals)).filter(t=>!!t).reduce((t,i)=>t+i,0)}),s=P(!1);D(()=>{s.value=r.value});const p=()=>s.value=!s.value;return(m,t)=>(a(),d(e(C),{collapsed:s.value,toggleable:"",class:"w-full my-2"},{header:_(()=>[f("div",{class:"flex align-items-center gap-2 cursor-pointer",onClick:t[0]||(t[0]=i=>p())},[g(e(b),{image:e(o).getIssueImage(e(n)),size:"large",shape:"rectangle"},null,8,["image"]),f("span",j,x(e(o).getIssueTitle(e(n))),1),g(e(E),{value:c.value,severity:"success"},null,8,["value"])])]),default:_(()=>[(a(!0),$(y,null,I(e(l),(i,k)=>(a(),d(B,{opinion:i,includeDivider:k!=e(l).length-1},null,8,["opinion","includeDivider"]))),256))]),_:1},8,["collapsed"]))}},w={class:"p-button-label"},O={__name:"AppIssuesSelector",emits:["scroll"],setup(v,{emit:o}){const u=h(),l=o,n=(r,c)=>{l("scroll",r),c.target.blur()};return(r,c)=>(a(!0),$(y,null,I(e(u).currentElection.issues,s=>(a(),d(e(T),{class:"mx-1",text:"",size:"small",severity:"primary",onClick:p=>n(s.id,p)},{default:_(()=>[g(e(b),{image:s.photo,shape:"circle",class:"mr-1"},null,8,["image"]),f("span",w,x(s.title),1)]),_:2},1032,["onClick"]))),256))}};export{F as _,O as a};
