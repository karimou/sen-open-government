import{t as z,o as a,c as p,b as e,d as y,l as _,m,i as A,v as M,r as v,u as P,x as U,y as F,w as j,q as V,f as i,j as L,g as d,F as O,a as H,e as q,z as D,p as G}from"./index-cqjjDmzJ.js";import{a as J,_ as K}from"./AppIssuesSelector-t3TllrfU.js";import{_ as Q}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./AppOpinion-FR_1ew0C.js";const W={class:"flex justify-content-center"},X={__name:"AppSocialLinks",props:{website:{type:String},facebook:{type:String},twitter:{type:String},instagram:{type:String}},setup(k){const b=k,{website:w,facebook:g,twitter:l,instagram:t}=z(b),r=c=>window.open(c);return(c,o)=>(a(),p("div",W,[e(w)?(a(),y(e(_),{key:0,icon:"pi pi-link",text:"",onClick:o[0]||(o[0]=f=>r(e(w)))})):m("",!0),e(g)?(a(),y(e(_),{key:1,icon:"pi pi-facebook",text:"",onClick:o[1]||(o[1]=f=>r(e(g)))})):m("",!0),e(l)?(a(),y(e(_),{key:2,icon:"pi pi-twitter",text:"",onClick:o[2]||(o[2]=f=>r(e(l)))})):m("",!0),e(t)?(a(),y(e(_),{key:3,icon:"pi pi-instagram",text:"",onClick:o[3]||(o[3]=f=>r(e(t)))})):m("",!0)]))}},Y={class:"pt-2 w-full"},Z={class:"candidate-name-zone justify-content-center"},ee=["src"],te={class:"text-4xl"},se={key:1,class:"font-bold ml-4 font-light uppercase text-sm",style:{color:"#797979"}},oe={class:"flex flex-wrap justify-content-center mb-6",style:{"max-width":"800px",margin:"auto"}},ne={style:{"z-index":"1",position:"relative"}},ie={class:"flex"},ae={class:"lg:col-offset-3 lg:col-6 md:col-offset-2 md:col-8 col"},le=["innerHTML"],re={__name:"ElectionCandidate",setup(k){const b=A("$groupArrayBy"),w=M(),g=v(null),l=v(null),t=v(null),r=v(!1),c=P(),o=n=>{g.value=Number(n.electionId),l.value=Number(n.candidateId)};U(()=>{o(w.params),window.scroll({top:0,behavior:"smooth"})}),F((n,s)=>{o(n.params)}),j(l,()=>{t.value=c.getCandidate(l.value)});const f=V(()=>{if(!c.currentElection.opinions)return[];let n=c.currentElection.opinions.filter(s=>s.author_id==l.value);return b(n,s=>s.issue_id)}),x=V(()=>{if(t.value)return`${t.value.firstname} ${t.value.lastname}`});j(x,n=>{document.title=document.title+" - "+n});const $=v({}),R=n=>{var s;(s=$.value[n])==null||s.scrollIntoView({behavior:"smooth"})};return(n,s)=>{var h,C,S,I,B,N;return a(),p(O,null,[i("div",Y,[i("div",Z,[(h=t.value)!=null&&h.photo?(a(),p("img",{key:0,src:(C=t.value)==null?void 0:C.photo,width:"150"},null,8,ee)):m("",!0),i("div",null,[i("span",te,L(x.value),1)]),e(c).hasCandidateOrganisations(l.value)?(a(),p("span",se,L(e(c).getCandidateOrganisationsStr(l.value)),1)):m("",!0),i("div",null,[d(e(_),{label:"Plus d'infos",text:"",severity:"primary",onClick:s[0]||(s[0]=u=>r.value=!0)})]),d(X,{website:(S=t.value)==null?void 0:S.website,facebook:(I=t.value)==null?void 0:I.facebook,instagram:(B=t.value)==null?void 0:B.instagram,twitter:(N=t.value)==null?void 0:N.twitter},null,8,["website","facebook","instagram","twitter"])]),i("div",oe,[d(J,{onScroll:s[1]||(s[1]=u=>R(u))})]),i("div",ne,[i("div",ie,[i("div",ae,[(a(!0),p(O,null,H(f.value,(u,E)=>(a(),p("div",{ref_for:!0,ref:T=>$.value[E]=T},[d(K,{opinions:u,issueId:Number(E),collapsed:!1},null,8,["opinions","issueId"])],512))),256))])])]),d(e(D),{visible:r.value,"onUpdate:visible":s[2]||(s[2]=u=>r.value=u),header:"Plus d'infos",class:"w-11 md:w-20rem lg:w-30rem"},{default:q(()=>[i("p",{style:{"white-space":"pre-wrap"},innerHTML:t.value.description},null,8,le)]),_:1},8,["visible"])]),d(e(G))],64)}}},me=Q(re,[["__scopeId","data-v-fee4c8ca"]]);export{me as default};
