import{t as A,o as a,c as p,f as e,g as b,a as m,i as M,q as P,d as v,u as U,s as z,v as F,w as j,p as V,b as n,l as L,j as d,F as O,e as H,h as q}from"./index-Mk7YKoAn.js";import{b as _,c as D}from"./panel.esm-TiHNcGAC.js";import{s as G}from"./sidebar.esm-a29vi3MJ.js";import{a as J,_ as K}from"./AppIssuesSelector-JaogOEDb.js";import{_ as Q}from"./_plugin-vue_export-helper-x3n3nnut.js";const W={class:"flex justify-content-center"},X={__name:"AppSocialLinks",props:{website:{type:String},facebook:{type:String},twitter:{type:String},instagram:{type:String}},setup(k){const y=k,{website:w,facebook:g,twitter:r,instagram:t}=A(y),l=c=>window.open(c);return(c,o)=>(a(),p("div",W,[e(w)?(a(),b(e(_),{key:0,icon:"pi pi-link",text:"",onClick:o[0]||(o[0]=f=>l(e(w)))})):m("",!0),e(g)?(a(),b(e(_),{key:1,icon:"pi pi-facebook",text:"",onClick:o[1]||(o[1]=f=>l(e(g)))})):m("",!0),e(r)?(a(),b(e(_),{key:2,icon:"pi pi-twitter",text:"",onClick:o[2]||(o[2]=f=>l(e(r)))})):m("",!0),e(t)?(a(),b(e(_),{key:3,icon:"pi pi-instagram",text:"",onClick:o[3]||(o[3]=f=>l(e(t)))})):m("",!0)]))}},Y={class:"pt-2 w-full"},Z={class:"candidate-name-zone justify-content-center"},ee=["src"],te={class:"text-4xl"},se={key:1,class:"font-bold ml-4 font-light uppercase text-sm",style:{color:"#797979"}},oe={class:"flex flex-wrap justify-content-center mb-6",style:{"max-width":"800px",margin:"auto"}},ie={style:{"z-index":"1",position:"relative"}},ne={class:"grid"},ae={class:"lg:col-offset-3 lg:col-6 md:col-offset-2 md:col-8 col"},re=["innerHTML"],le={__name:"ElectionCandidate",setup(k){const y=M("$groupArrayBy"),w=P(),g=v(null),r=v(null),t=v(null),l=v(!1),c=U(),o=i=>{g.value=Number(i.electionId),r.value=Number(i.candidateId)};z(()=>{o(w.params),window.scroll({top:0,behavior:"smooth"})}),F((i,s)=>{o(i.params)}),j(r,()=>{t.value=c.getCandidate(r.value)});const f=V(()=>{if(!c.currentElection.opinions)return[];let i=c.currentElection.opinions.filter(s=>s.author_id==r.value);return y(i,s=>s.issue_id)}),x=V(()=>{if(t.value)return`${t.value.firstname} ${t.value.lastname}`});j(x,i=>{document.title=document.title+" - "+i});const h=v({}),R=i=>{var s;(s=h.value[i])==null||s.scrollIntoView({behavior:"smooth"})};return(i,s)=>{var $,C,S,I,B,N;return a(),p(O,null,[n("div",Y,[n("div",Z,[($=t.value)!=null&&$.photo?(a(),p("img",{key:0,src:(C=t.value)==null?void 0:C.photo,width:"150"},null,8,ee)):m("",!0),n("div",null,[n("span",te,L(x.value),1)]),e(c).hasCandidateOrganisations(r.value)?(a(),p("span",se,L(e(c).getCandidateOrganisationsStr(r.value)),1)):m("",!0),n("div",null,[d(e(_),{label:"Plus d'infos",text:"",severity:"primary",onClick:s[0]||(s[0]=u=>l.value=!0)})]),d(X,{website:(S=t.value)==null?void 0:S.website,facebook:(I=t.value)==null?void 0:I.facebook,instagram:(B=t.value)==null?void 0:B.instagram,twitter:(N=t.value)==null?void 0:N.twitter},null,8,["website","facebook","instagram","twitter"])]),n("div",oe,[d(J,{onScroll:s[1]||(s[1]=u=>R(u))})]),n("div",ie,[n("div",ne,[n("div",ae,[(a(!0),p(O,null,H(f.value,(u,E)=>(a(),p("div",{ref_for:!0,ref:T=>h.value[E]=T},[d(K,{opinions:u,issueId:Number(E),collapsed:!1},null,8,["opinions","issueId"])],512))),256))])])]),d(e(G),{visible:l.value,"onUpdate:visible":s[2]||(s[2]=u=>l.value=u),header:"Plus d'infos",class:"w-full md:w-20rem lg:w-30rem"},{default:q(()=>[n("p",{style:{"white-space":"pre-wrap"},innerHTML:t.value.description},null,8,re)]),_:1},8,["visible"])]),d(e(D))],64)}}},fe=Q(le,[["__scopeId","data-v-8d3ba22e"]]);export{fe as default};
