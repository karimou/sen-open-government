import{t as A,o as a,c as v,f as s,g as m,a as f,i as M,q as P,d as c,u as T,s as F,v as H,w as C,p as E,b as o,x as j,l as O,j as l,F as V,e as U,h as q}from"./index-rdzGzOt1.js";import{b as u,c as D}from"./panel.esm-rdnrnRgy.js";import{s as G,b as J}from"./bg-VMtaffMT.js";import{a as K,_ as Q}from"./AppIssuesSelector-kknvW59I.js";import{_ as W}from"./_plugin-vue_export-helper-x3n3nnut.js";const X={class:"flex justify-content-center"},Y={__name:"AppSocialLinks",props:{website:{type:String},facebook:{type:String},twitter:{type:String},instagram:{type:String}},setup(y){const _=y,{website:g,facebook:b,twitter:n,instagram:t}=A(_);return(d,p)=>(a(),v("div",X,[s(g)?(a(),m(s(u),{key:0,icon:"pi pi-link",text:""})):f("",!0),s(b)?(a(),m(s(u),{key:1,icon:"pi pi-facebook",text:""})):f("",!0),s(n)?(a(),m(s(u),{key:2,icon:"pi pi-twitter",text:""})):f("",!0),s(t)?(a(),m(s(u),{key:3,icon:"pi pi-instagram",text:""})):f("",!0)]))}},Z={class:"candidate-name-zone justify-content-center"},ee={class:"text-4xl"},te={class:"flex justify-content-center mb-6"},se={style:{"z-index":"1",position:"relative"}},ie={class:"grid"},oe={class:"lg:col-offset-3 lg:col-6 md:col-offset-2 md:col-8 col-offset-1 col-10"},ae=["innerHTML"],ne={__name:"ElectionCandidate",setup(y){const _=M("$groupArrayBy"),g=P(),b=c(null),n=c(null),t=c(null),d=c(!1),p=T(),w=i=>{b.value=Number(i.electionId),n.value=Number(i.candidateId)};F(()=>{w(g.params)}),H((i,e)=>{w(i.params)}),C(n,()=>{t.value=p.getCandidate(n.value)});const L=E(()=>{if(!p.currentElection.opinions)return[];let i=p.currentElection.opinions.filter(e=>e.author_id==n.value);return _(i,e=>e.issue_id)}),k=E(()=>{if(t.value)return`${t.value.firstname} ${t.value.lastname}`});C(k,i=>{document.title=document.title+" - "+i});const x=c({}),R=i=>{var e;(e=x.value[i])==null||e.scrollIntoView({behavior:"smooth"})};return(i,e)=>{var h,$,I,S,B;return a(),v(V,null,[o("div",{class:"background-image pt-2 w-full",style:j({backgroundImage:`url(${s(J)})`})},[o("div",{class:"candidate-image",style:j({backgroundImage:`url(${(h=t.value)==null?void 0:h.photo})`})},null,4),o("div",Z,[o("div",null,[o("span",ee,O(k.value),1)]),o("div",null,[l(s(u),{label:"Plus d'infos",text:"",severity:"primary",onClick:e[0]||(e[0]=r=>d.value=!0)})]),l(Y,{website:($=t.value)==null?void 0:$.website,facebook:(I=t.value)==null?void 0:I.facebook,instagram:(S=t.value)==null?void 0:S.instagram,twitter:(B=t.value)==null?void 0:B.twitter},null,8,["website","facebook","instagram","twitter"])]),o("div",te,[l(K,{onScroll:e[1]||(e[1]=r=>R(r))})]),o("div",se,[o("div",ie,[o("div",oe,[(a(!0),v(V,null,U(L.value,(r,N)=>(a(),v("div",{ref_for:!0,ref:z=>x.value[N]=z},[l(Q,{opinions:r,issueId:Number(N),collapsed:!1},null,8,["opinions","issueId"])],512))),256))])])]),l(s(G),{visible:d.value,"onUpdate:visible":e[2]||(e[2]=r=>d.value=r),header:"Plus d'infos",class:"w-full md:w-20rem lg:w-30rem"},{default:q(()=>[o("p",{style:{"white-space":"pre-wrap"},innerHTML:t.value.description},null,8,ae)]),_:1},8,["visible"])],4),l(s(D))],64)}}},pe=W(ne,[["__scopeId","data-v-274d9f28"]]);export{pe as default};
