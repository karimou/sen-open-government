import{a as $,b as N,d as V,f as T,e as A}from"./sidebar.esm-1ueuQlQR.js";import{u as B,t as L,p as k,d as w,o as a,c,j as p,h as u,f as e,l as f,b as d,F as g,k as j,g as h,a as x,e as E}from"./index-5qPB8MjX.js";const z={class:"flex align-items-center gap-2"},F={class:"font-bold"},H={class:"m-0",style:{"white-space":"pre-wrap"}},I=["innerHTML"],U={__name:"AppCandidateOpinionsPanel",props:{candidateId:{type:Number},opinions:{type:Object,default:[]},collapsed:{type:Boolean,default:!0}},setup(v){const m=B(),o=v,{opinions:r,candidateId:_,collapsed:i}=L(o),t=k(()=>m.getCandidate(_.value)),l=k(()=>{if(t.value)return`${t.value.firstname} ${t.value.lastname}`}),n=w(!1),b=w(null),O=y=>{n.value=!0,b.value=y.content};return(y,C)=>(a(),c(g,null,[p(e(T),{collapsed:e(i),toggleable:"",class:"w-full my-2"},{header:u(()=>{var s;return[d("div",z,[p(e($),{image:(s=t.value)==null?void 0:s.photo,size:"large",shape:"rectangle"},null,8,["image"]),d("span",F,f(l.value),1)])]}),default:u(()=>[(a(!0),c(g,null,E(e(r),(s,S)=>(a(),c("p",H,[j(f(s.summary)+" ",1),s.content?(a(),h(e(N),{key:0,text:"",label:"En savoir plus",onClick:D=>O(s)},null,8,["onClick"])):x("",!0),S!=e(r).length-1?(a(),h(e(V),{key:1})):x("",!0)]))),256))]),_:1},8,["collapsed"]),p(e(A),{visible:n.value,"onUpdate:visible":C[0]||(C[0]=s=>n.value=s),header:"En savoir plus",class:"w-full md:w-20rem lg:w-30rem",position:"right"},{default:u(()=>[d("p",{style:{"white-space":"pre-wrap"},innerHTML:b.value},null,8,I)]),_:1},8,["visible"])],64))}},M={class:"p-button-label"},q={__name:"AppCandidatesSelector",emits:["scroll"],setup(v,{emit:m}){const o=B(),r=m,_=(i,t)=>{r("scroll",i),t&&t.target.blur()};return(i,t)=>(a(!0),c(g,null,E(e(o).currentElection.candidates,l=>(a(),h(e(N),{class:"mx-2",text:"",size:"small",severity:"primary",onClick:n=>_(l.id,n)},{default:u(()=>[p(e($),{image:l.photo,shape:"circle",class:"mr-1"},null,8,["image"]),d("span",M,f(e(o).getCandidateName(l.id)),1)]),_:2},1032,["onClick"]))),256))}};export{U as _,q as a};
