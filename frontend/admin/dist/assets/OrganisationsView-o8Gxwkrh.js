import{d as y,r as h,A as b,a as k,u as S,c as _,b as o,e,f as t,w as l,o as g,g as C,p as A,h as j,i as I,_ as V}from"./index-Tc2rU4CK.js";import{s as T,a as s,b as P}from"./toolbar.esm-R8O2odAH.js";import{s as u}from"./index.esm-vGdYQZef.js";import{_ as $}from"./_plugin-vue_export-helper-x3n3nnut.js";const N=y("organisations",()=>{const n=h(null);return{organisations:n,refreshOrganisations:()=>{b.organisations.listOrganisations().then(a=>n.value=a)}}}),v=n=>(A("data-v-f4661703"),n=n(),j(),n),B={class:"grid"},D={class:"col-12"},E={key:0,class:"card"},F={class:"my-2"},M=v(()=>o("div",{class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},[o("h5",{class:"m-0"},"Organisations")],-1)),U={key:1,class:"px-4 py-5 shadow-1 flex flex-column md:flex-row md:align-items-center justify-content-between mb-3",style:{width:"600px","background-color":"white"}},q=v(()=>o("div",null,[o("div",{class:"font-medium text-xl mt-2 mb-3"},"Aucune organisation"),o("div",{class:"font-medium"},"Cliquer sur le bouton suivant pour rajouter une organisation élection à la base de données")],-1)),z={class:"mt-4 mr-auto md:mt-0 md:mr-0"},L={__name:"OrganisationsView",setup(n){const i=N();k(i.refreshOrganisations);const a=h(null),p=h(!1),O=()=>{var r;let d=(r=a.value)==null?void 0:r.map(c=>c.id);p.value=!0,b.organisations.deleteOrganisations(d).then(()=>{i.refreshOrganisations(),a.value=null}).finally(()=>p.value=!1)},w=S(),x=I(()=>V(()=>import("./OrganisationsUpsertForm-7fmhycW4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),m=(d={})=>{w.open(x,{data:d,onClose:i.refreshOrganisations,props:{modal:!0}})};return(d,r)=>{var c;return g(),_("div",B,[o("div",D,[((c=e(i).organisations)==null?void 0:c.length)>0?(g(),_("div",E,[t(e(T),{class:"mb-4"},{start:l(()=>[o("div",F,[t(e(u),{label:"Ajouter une organisation",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:m}),t(e(u),{label:"Supprimer la sélection",icon:"pi pi-trash",class:"p-button-danger",onClick:O,disabled:!a.value||!a.value.length,loading:p.value},null,8,["disabled","loading"])])]),_:1}),t(e(P),{value:e(i).organisations,selection:a.value,"onUpdate:selection":r[0]||(r[0]=f=>a.value=f)},{header:l(()=>[M]),default:l(()=>[t(e(s),{selectionMode:"multiple",headerStyle:"width: 3rem"}),t(e(s),{headerStyle:"min-width: 100px"},{body:l(({data:f})=>[t(e(u),{class:"p-button-text p-button-rounded",icon:"pi pi-pencil",onClick:W=>m(f)},null,8,["onClick"])]),_:1}),t(e(s),{field:"name",header:"Nom"}),t(e(s),{field:"type",header:"Type"}),t(e(s),{field:"description",header:"Description"}),t(e(s),{field:"twitter",header:"Twitter"}),t(e(s),{field:"facebook",header:"Facebook"}),t(e(s),{field:"instagram",header:"Instagram"}),t(e(s),{field:"website",header:"Website"}),t(e(s),{field:"address",header:"Adresse"}),t(e(s),{field:"contact_phone",header:"Contact (Téléphone)"}),t(e(s),{field:"contact_email",header:"Contact (email)"}),t(e(s),{field:"parent_organisation_id",header:"Parent"})]),_:1},8,["value","selection"])])):(g(),_("div",U,[q,o("div",z,[t(e(u),{class:"p-button font-bold px-5 py-3 p-button-success p-button-rounded p-button-raised",onClick:m},{default:l(()=>[C("Ajouter")]),_:1})])]))])])}}},R=$(L,[["__scopeId","data-v-f4661703"]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{Q as O,N as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/OrganisationsUpsertForm-7fmhycW4.js","assets/message.esm-7AaCCNeN.js","assets/index-Tc2rU4CK.js","assets/index-tbN9M-MT.css","assets/index.esm-vGdYQZef.js","assets/textarea.esm-Zp6g0_lQ.js","assets/radiobutton.esm-at_Z4IK4.js","assets/toolbar.esm-R8O2odAH.js","assets/inputmask.esm-3lTp6CZr.js","assets/_plugin-vue_export-helper-x3n3nnut.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
